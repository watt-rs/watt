/// Imports
use suit/test for Test
use suit/run as test_runner
use suit/assert for assert_eq
use std/list for List

/// Simple test for +, - operations
fn additive_test() {
    assert_eq(2 + 2, 4);
    assert_eq(63 - 17, 46);
}

/// Simple test for *, / operations
fn multiple_test() {
    assert_eq(34 * -2, -68);
    assert_eq(250 * 3, 750);
    assert_eq(10 / -2.5, -4);
    assert_eq(20 / 2, 10)
}

/// Not exhaustive warning test
fn non_exhaustive_warning() {
    // provides exhaustiveness warning
    // and infers to unit
    let result = match true {
        true -> 1
        // false is not matched
    };
    assert_eq(result, 1)
}

/// For loop test
fn for_loop_test() {
    // First subtest
    let r1 = 0;
    for i in 0..10 {
        r1 = i;
    };
    assert_eq(r1, 9);

    // Second subtest
    let r2 = 0;
    for i in 0..=10 {
        r2 = i;
    };
    assert_eq(r2, 10);

    // Third subtest
    let r3 = 0;
    for i in 10..0 {
        r3 = i;
    };
    assert_eq(r3, 1);

    // Fourth subtest
    let r4 = 0;
    for i in 10..=0 {
        r4 = i;
    };
    assert_eq(r4, 0)
}

/// Main function
fn main() {
    let tests = List();
    tests.push(Test(additive_test));
    tests.push(Test(multiple_test));
    tests.push(Test(non_exhaustive_warning));
    tests.push(Test(for_loop_test));
    test_runner.run(tests);
}
